{% extends 'base.html' %}

{% block content %}
<div class="register-container">
  <div class="register-card large-card shadow-lg">
    <div class="card-header-modern">
      <h2><i class="fas fa-user-plus"></i> Register Instructor</h2>
      <p class="subtitle">Create a new instructor account below</p>
    </div>
    <form id="registerForm" autocomplete="off">
      <div class="form-group">
        <label for="name"><i class="fas fa-user"></i> Name</label>
        <input required type="text" id="name" name="name" class="form-control" placeholder="Full Name" />
      </div>
      <div class="form-group">
        <label for="username"><i class="fas fa-user-tag"></i> Username</label>
        <input required type="text" id="username" name="username" class="form-control" placeholder="Username" />
      </div>
      <div class="form-group">
        <label for="password"><i class="fas fa-lock"></i> Password</label>
        <input required type="password" id="password" name="password" class="form-control" placeholder="Password" />
      </div>
      <div class="form-group">
        <label for="confirm_password"><i class="fas fa-lock"></i> Confirm Password</label>
        <input required type="password" id="confirm_password" name="confirm_password" class="form-control" placeholder="Confirm Password" />
        <span class="password-error" style="color:#ff7675;font-size:0.95em;"></span>
      </div>
      <button type="submit" class="btn btn-primary w-100 mt-2"><i class="fas fa-user-plus"></i> Register</button>
    </form>
    <button class="btn btn-outline-light mt-4 w-100" id="viewInstructorsBtn">
      <i class="fas fa-users"></i> View Registered Instructors
    </button>
  </div>
</div>

<!-- Modal -->
<div class="modal fade modern-modal" id="instructorModal" tabindex="-1">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header border-0">
        <h5 class="modal-title"><i class="fas fa-users"></i> Registered Instructors</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close" id="closeModalBtn"></button>
      </div>
      <div class="modal-body">
        <table class="table table-dark table-hover table-bordered rounded" id="instructorTable">
          <thead>
            <tr>
              <th><i class="fas fa-user"></i> Name</th>
              <th><i class="fas fa-user-tag"></i> Username</th>
              <th><i class="fas fa-key"></i> Password</th>
              <th><i class="fas fa-cogs"></i> Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- JS will populate -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Edit Password Modal -->
<div class="modal fade modern-modal" id="editPasswordModal" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header border-0">
        <h5 class="modal-title"><i class="fas fa-key"></i> Edit Password</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close" id="closeEditModalBtn"></button>
      </div>
      <div class="modal-body">
        <form id="editPasswordForm">
          <input type="hidden" id="edit-username" name="username" />
          <div class="form-group">
            <label for="edit-password"><i class="fas fa-lock"></i> New Password</label>
            <input required type="password" id="edit-password" name="password" class="form-control" placeholder="New Password" />
          </div>
          <div class="form-group">
            <label for="edit-confirm-password"><i class="fas fa-lock"></i> Confirm New Password</label>
            <input required type="password" id="edit-confirm-password" name="confirm_password" class="form-control" placeholder="Confirm New Password" />
            <span class="edit-password-error" style="color:#ff7675;font-size:0.95em;"></span>
          </div>
          <button type="submit" class="btn btn-success w-100 mt-2"><i class="fas fa-save"></i> Save</button>
        </form>
      </div>
    </div>
  </div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}">
<script src="{{ url_for('static', filename='js/register.js') }}"></script>
{% endblock %}
